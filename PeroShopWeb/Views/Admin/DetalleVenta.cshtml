@{
    Layout = "_LayoutAdmin2";
}


<body>
    <main class="container">
        <div class="my-3 p-3 bg-light rounded shadow-sm">
            <h1>Detalles de Compra</h1>
            <form class="needs-validation" novalidate>

                <dl class="row">
                    <dt class="col-sm-2">
                        Nombre
                    </dt>
                    <dd class="col-sm-10">
                        @ViewBag.Usuario.Nombre
                    </dd>
                    <dt class="col-sm-2">
                        Correo
                    </dt>
                    <dd class="col-sm-10">
                        @ViewBag.Usuario.Correo
                    </dd>
                    <dt class="col-sm-2">
                        Telefono
                    </dt>
                </dl>
                <hr class="my-4">

                @{
                    foreach (var i in ViewBag.CarrVen)
                    {
                        if (i.IDOrden == ViewBag.IdOrden)
                        {
                            foreach (var j in ViewBag.inter)
                            {
                                if (i.idproductointer == j.ID)
                                {
                                    foreach (var k in ViewBag.Productos)
                                    {
                                        if (j.idproducto == k.ID)
                                        {
                                            <dl class="row">
                                                <dt class="col-sm-2">
                                                    Nombre
                                                </dt>
                                                <dd class="col-sm-10">
                                                    @k.Nombre
                                                </dd>
                                                <dt class="col-sm-2">
                                                    Descripcion
                                                </dt>
                                                <dd class="col-sm-10">
                                                    @j.Caracteristicas
                                                </dd>
                                                <dt class="col-sm-2">
                                                    Cantidad
                                                </dt>
                                                <dd class="col-sm-10">
                                                    @i.Cantidad
                                                </dd>
                                                <dt class="col-sm-2">
                                                    Precio
                                                </dt>
                                                <dd class="col-sm-10">
                                                    @j.PrecioVenta
                                                </dd>
                                            </dl>
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
                <hr class="my-4">

                @{
                    if (ViewBag.Envio == "En Proceso")
                    {
                        <dl class="row">
                            <dt class="col-sm-3">
                                Selecciona el estado del envio
                            </dt>
                            <dd class="col-sm-11">
                                <select class="form-select" aria-label="">
                                    <option selected>Estado...</option>
                                    <option>Tu paquete esta listo para ser enviado</option>
                                </select>
                            </dd>
                            <dt class="col-sm-4">
                                <input type="hidden" />
                                <button asp-controller="Admin" asp-action="CambioEstado" class="w-100 btn btn-primary btn-lg" type="submit" asp-route-Id=1  >Editar un estado</button>
                            </dt>
                        </dl>
                    }
                    else if (ViewBag.Envio == "Tu paquete esta listo para ser enviado")
                    {
                        <dl class="row">
                            <dt class="col-sm-3">
                                Selecciona el estado del envio
                            </dt>
                            <dd class="col-sm-11">
                                <select class="form-select" aria-label="">
                                    <option selected>Estado...</option>
                                    <option>Tu paquete esta en camino a tu domicilio</option>
                                </select>
                            </dd>
                            <dt class="col-sm-4">
                                <input type="hidden">
                                <button asp-controller="Admin" asp-action="CambioEstado" class="w-100 btn btn-primary btn-lg" type="submit" asp-route-Id=2  >Editar un estado</button>
                            </dt>
                        </dl>
                    }
                    else if (ViewBag.Envio == "Tu paquete esta en camino a tu domicilio")
                    {
                        <dl class="row">
                            <dt class="col-sm-3">
                                Selecciona el estado del envio
                            </dt>
                            <dd class="col-sm-11">
                                <select class="form-select" aria-label="">
                                    <option selected>Estado...</option>
                                    <option>Tu paquete a sido entregado</option>
                                </select>
                            </dd>
                            <dt class="col-sm-4">
                                <input type="hidden">
                                <button asp-controller="Admin" asp-action="CambioEstado" class="w-100 btn btn-primary btn-lg" type="submit" asp-route-Id=3  >Editar un estado</button>
                            </dt>
                        </dl>
                    }
                }


            </form>
            <br />
            <h1>@ViewBag.Mensaje</h1>
        </div>
    </main>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <script src="~/js/form-validation.js"></script>
</body>